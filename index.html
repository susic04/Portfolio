<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <title>Portfolio</title>
</head>
<body>

  <!-- NAVIGACIJA -->
  <nav class="navigacija">
    <ul>
      <li><a href="#" class="link-o-meni"><i class="fa-solid fa-user"></i></a></li>
      <li><a href="#" id="link-projekti"><i class="fa-solid fa-laptop-code"></i></a></li>
      <li><a href="#" class="kontakt-btn"><i class="fa-solid fa-envelope"></i></a></li>
    </ul>
  </nav>

  <!-- POZADINA -->
  <div class="pozadina">
    <img src="slike/pozadina.jpg" alt="Pozadina" class="pozadinska-slika">
  </div>

  <!-- HERO / NASLOV -->
  <div class="naslov">
    <h1 class="ime">IVAN SUSIC</h1>
    <p class="opis">Backend Python Developer</p>
  </div>

  <!-- SEKCIJA KONTAKT (overlay) -->
  <div class="sekcija-kontakt">
    <div class="kontakt-ikone">
      <a href="https://github.com/susic04" target="_blank"><i class="fab fa-github"></i></a>
      <a href="mailto:ivansusic6@gmail.com"><i class="fas fa-envelope"></i></a>
      <a href="https://instagram.com/susic04_" target="_blank"><i class="fab fa-instagram"></i></a>
    </div>
  </div>

  <div class="scroll-down">
    <p>PROJECTS</p>
    <div class="strelica">&#8595;</div>
  </div>

  <!-- GRID PROJEKTI -->
  <section class="projekti" id="projekti">
    <div class="projekt fade-element">
      <img src="slike/pygame_3.png" alt="Projekt 1">
      <h3>SNAKE PYGAME</h3>
      <p>Game made using python and Pygame library.</p>
    </div>
    <div class="projekt fade-element">
      <img src="slike/projekt_2.png" alt="Projekt 2">
      <h3>PORTFOLIO WEBSITE</h3>
      <p>Website made using HTML, CSS and JavaScript.</p>
    </div>
  </section>
                  
  <!-- SEKCIJA O MENI (overlay) -->
  <section id="o-meni" class="sekcija-o-meni">
    <p id="tekst-o-meni"></p>
  </section>

  <script>
    // Selektori
    const linkOMeni = document.querySelector('.link-o-meni');
    const sekcijaOMeni = document.querySelector('.sekcija-o-meni');
    const tekstOMeni = document.getElementById('tekst-o-meni');

    const kontaktBtn = document.querySelector('.kontakt-btn');
    const kontaktOverlay = document.querySelector('.sekcija-kontakt');

    const pozadina = document.querySelector('.pozadinska-slika');
    const naslov = document.querySelector('.naslov');
    const nav = document.querySelector('.navigacija');

    const elementi = document.querySelectorAll('.fade-element'); // Projekti
    const linkProjekti = document.getElementById('link-projekti');
    const sekcijaProjekti = document.getElementById('projekti');


    window.addEventListener("scroll", () => {
    const scrollDown = document.querySelector(".scroll-down");
    const projekti = document.querySelector(".projekti");
    if (!scrollDown || !projekti) return;

    const projektiTop = projekti.getBoundingClientRect().top;
    const windowHeight = window.innerHeight;

    if (projektiTop < windowHeight * 0.8) {
      scrollDown.classList.add("hidden"); // nestaje kad vidimo projekte
    } else {
      scrollDown.classList.remove("hidden"); // opet se vidi kad skrolamo gore
    }
  });

    // Ukloni hash iz URL-a pri refreshu
    window.history.replaceState(null,null,' ');

    // Funkcija za sakrivanje/navigaciju kad overlay aktivan
    function updateNavVisibility() {
      if (sekcijaOMeni.classList.contains('active') || kontaktOverlay.classList.contains('active')) {
        nav.style.display = 'none';
      } else {
        nav.style.display = 'flex';
      }
    }

    // ===================== Overlay Kontakt =====================
    kontaktBtn.addEventListener('click', e => {
      e.preventDefault();
      if(sekcijaOMeni.classList.contains('active')) {
        sekcijaOMeni.classList.remove('active');
        pozadina.classList.remove('blurred');
        naslov.classList.remove('blurred');
      }
      kontaktOverlay.classList.add('active');
      document.body.classList.add('kontakt-active');
      updateNavVisibility();
    });

    kontaktOverlay.addEventListener('click', () => {
      kontaktOverlay.classList.remove('active');
      document.body.classList.remove('kontakt-active');
      updateNavVisibility();
    });

    // ===================== Overlay O meni =====================
    const text = "Hi! My name is Ivan Susic, and I’m currently a second-year university student with a strong passion for programming and building my own applications. So far, I’ve completed two projects: this portfolio website and a game I developed using Python and the Pygame library. I’m genuinely fascinated by programming, creating software from scratch, and solving challenging problems. Lately, I’ve been especially interested in machine learning and AI, exploring how intelligent systems can learn, adapt, and improve. In my free time, I enjoy experimenting with new technologies, learning frameworks, and constantly improving my skills to bring innovative ideas to life. I’m excited to continue developing my knowledge, building projects that combine creativity and functionality, and exploring opportunities to contribute to real-world applications.";

    function typeText(element,text,speed=30){
      element.textContent="";
      let i=0;
      const interval = setInterval(()=>{
        element.textContent += text[i];
        i++;
        if(i>=text.length) clearInterval(interval);
      }, speed);
    }

    linkOMeni.addEventListener('click', e => {
      e.preventDefault();
      if(kontaktOverlay.classList.contains('active')){
        kontaktOverlay.classList.remove('active');
        document.body.classList.remove('kontakt-active');
      }
      pozadina.classList.add('blurred');
      naslov.classList.add('blurred');
      sekcijaOMeni.classList.add('active');
      typeText(tekstOMeni,text,2);
      updateNavVisibility();
    });

    sekcijaOMeni.addEventListener('click', () => {
      sekcijaOMeni.classList.remove('active');
      pozadina.classList.remove('blurred');
      naslov.classList.remove('blurred');
      updateNavVisibility();
    });

    // ===================== Scroll efekti hero & navigacija =====================
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      naslov.style.opacity = Math.max(1 - scrollY / 400,0);
      const translateHero = Math.min(scrollY/2,80);
      naslov.style.transform = `translateY(-${translateHero}px)`;
      if(!sekcijaOMeni.classList.contains('active') && !kontaktOverlay.classList.contains('active')){
        if(scrollY>50) nav.classList.add('hidden');
        else nav.classList.remove('hidden');
      }
    });

    // ===================== Intersection Observer fade-in =====================
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry=>{
        if(entry.isIntersecting) entry.target.classList.add('visible');
        else entry.target.classList.remove('visible');
      });
    },{threshold:0.2});
    elementi.forEach(el => observer.observe(el));

    // ===================== Scroll na projekte =====================
    linkProjekti.addEventListener('click', e=>{
      e.preventDefault();
      sekcijaProjekti.scrollIntoView({behavior:'smooth'});
    });

  </script>
</body>
</html>
